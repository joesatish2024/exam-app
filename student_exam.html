
<!DOCTYPE html>
<html>
<head>
  <title>Exam Page</title>
  <script>
    let blocked = false;
    function requestFullScreen() {
      let el = document.documentElement;
      if (el.requestFullscreen) el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
    }
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !blocked) {
        alert("You pressed Escape. Explain to your teacher.");
        blocked = true;
      }
    });
    document.addEventListener("visibilitychange", () => {
      if (document.hidden && !blocked) {
        alert("You switched tabs. Explain to your teacher.");
        blocked = true;
      }
    });
    window.onload = requestFullScreen;
  </script>
</head>
<body>
  <h1>ğŸ“ Exam for Code: {{ code }}</h1>
  <iframe src="/uploads/{{ exam }}" width="100%" height="500px"></iframe>
  <form method="POST">
    <p>Your Name: <strong>{{ student_name }}</strong></p>
    <textarea name="answer" rows="10" cols="80" placeholder="Type your answers here..." required></textarea><br><br>
    <button type="submit">Submit Exam</button>
  </form>
</body>
</html>
